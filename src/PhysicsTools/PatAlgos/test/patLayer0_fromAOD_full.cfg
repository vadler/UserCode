process PAT = {


  ### General ###

  # initialize MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.cerr.threshold = "INFO"
  replace MessageLogger.categories += "PATLayer0Summary"
  replace MessageLogger.cerr.INFO = {
      untracked PSet default = { untracked int32 limit = 0  }
      untracked PSet PATLayer0Summary = { untracked int32 limit = -1 }
  }

  # return filter & timing reports
  untracked PSet options = { untracked bool wantSummary = true }


  ### Input ###

  untracked PSet maxEvents = { untracked int32 input = 100 }

//  source = PoolSource { untracked vstring fileNames = { 'file:/afs/cern.ch/user/g/gpetrucc/scratch0/cmssw-data/CSA07-Chouder-Muon-1.6.4-AODSIM.100.root' } }
  source = PoolSource {
    untracked vstring fileNames = {
      "/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0004/02D0ED1F-4FC5-DC11-9D9B-000E0C3EFB20.root",
      "/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0004/045E2507-50C5-DC11-AF4C-001617E30D52.root",
      "/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0004/0467E2BA-4EC5-DC11-BBB9-000423D6B358.root",
      "/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0004/06F3DA1E-50C5-DC11-BD8D-001617C3B5F4.root",
      "/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0004/06F7905C-4EC5-DC11-939D-000423D9989E.root",
      "/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0004/08067CBA-4EC5-DC11-85FC-000423D9853C.root",
      "/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0004/0A1106BA-4EC5-DC11-9C34-000423D94700.root",
      "/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0004/0C7C5FEA-4DC5-DC11-8878-001617C3B706.root",
      "/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0004/0E465B93-50C5-DC11-A1B1-000E0C3F08F6.root",
      "/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0004/10DBC497-50C5-DC11-BBF0-000423D98E54.root",
      "/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0004/128F560A-50C5-DC11-A92F-000423D99394.root",
      "/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0004/12BA1F07-50C5-DC11-97E2-000423D99996.root",
      "/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0004/148647E6-4DC5-DC11-AB86-000423D98C20.root"
    }
  }

  ### PAT steering ###

  include "PhysicsTools/PatAlgos/data/patLayer0.cff"
//   include "PhysicsTools/PatAlgos/test/patLayer0_ReplaceDefaults_full.cff"
 
  module content = EventContentAnalyzer { }

  path p = {
    patLayer0_TriggerMatch                # use patLayer0_withoutPFTau if you can't get PFTaus working 
    #,content                             # uncomment to get a dump of the event content
  }


  ### Output ###

  # define the event content
  block patEventContent = {
    untracked vstring outputCommands = {
      "keep *"
    }
  }
  include "PhysicsTools/PatAlgos/data/patLayer0_EventContent.cff"
  replace patEventContent.outputCommands += patLayer0EventContent.outputCommands

  # only accept events passing the complete path
  block patEventSelection = {
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p" }
    }
  }

  # the actual output module
  module out = PoolOutputModule {
    untracked string fileName = "output/PATLayer0_Output.fromAOD_full.root"
    using patEventSelection
    using patEventContent
    untracked bool verbose = false
  }

  endpath outpath = { out }


}
