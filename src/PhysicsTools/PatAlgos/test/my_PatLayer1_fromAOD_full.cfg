process PAT = {


  ### General ###

  # initialize MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.cerr.threshold = "INFO"
  replace MessageLogger.cerr.INFO = {
      untracked PSet default          = { untracked int32 limit =  0 }
      untracked PSet PATLayer0Summary = { untracked int32 limit = -1 }
  }
  replace MessageLogger.categories += "PATLayer0Summary"

  # return filter & timing reports
  untracked PSet options = { untracked bool wantSummary = true }


  ### Input ###

  untracked PSet maxEvents = { untracked int32 input = 100 }

//   source = PoolSource { untracked vstring fileNames = { "file:/afs/cern.ch/cms/PRS/top/cmssw-data/relval200-for-pat-testing/RelValTTbar-210p5-AODSIM.100.root" } }
  # dataset /RelValTTbar/CMSSW_2_1_0_pre5-RelVal-1212543891-STARTUP/GEN-SIM-DIGI-RAW-HLTDEBUG
  source = PoolSource {
    untracked vstring fileNames = {
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/086F7F72-3532-DD11-AAA4-000423D9997E.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/145D3E32-3532-DD11-AE5F-001617DBD556.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/16D79D60-3532-DD11-A237-001617E30D0A.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/18A1C767-4232-DD11-B134-000423D98834.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/24034909-3E32-DD11-91CC-0016177CA778.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/2613929F-7E32-DD11-804A-000423D992DC.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/3AF69AC7-3D32-DD11-BA2D-000423D98B6C.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/48A57646-3532-DD11-A86F-001617E30D06.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/506B72CE-5632-DD11-BE91-001617E30CE8.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/5CC8D87A-5D32-DD11-A5AB-000423D9870C.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/642CA0E4-3D32-DD11-BA69-001617E30F4C.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/8629D8CE-3D32-DD11-978E-001617DBCF6A.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/90B272EF-5832-DD11-9B9C-001617E30E28.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/9212C8C1-3D32-DD11-AFE6-0016177CA778.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/9AC29F58-3532-DD11-AAB5-001617C3B79A.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/AC005B9B-4132-DD11-9F28-000423D98F98.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/B0213F62-3532-DD11-BC7F-000423D94E70.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/B0E4F457-3532-DD11-8B1D-001617C3B654.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/C234A33D-3532-DD11-AE1C-000423D9997E.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/CCC325DD-3D32-DD11-92D2-000423D6C8EE.root",
      "/store/relval/2008/6/4/RelVal-RelValTTbar-1212543891/0000/D4EE4FE4-3D32-DD11-92F2-001617C3B5D8.root"
    }
  }

  
  ### PAT steering ###

  include "PhysicsTools/PatAlgos/data/patLayer0.cff"
//   include "PhysicsTools/PatAlgos/test/patLayer0_ReplaceDefaults_full.cff"
  include "PhysicsTools/PatAlgos/data/patLayer1.cff"
//   include "PhysicsTools/PatAlgos/test/patLayer1_ReplaceDefaults_full.cff"

  path p = {
    patLayer0,                            
    patLayer1
  }


  ### Output ###

  # define the event content
  block patEventContent = {
    untracked vstring outputCommands = {
      "drop *"
    }
  }
  include "PhysicsTools/PatAlgos/data/patLayer1_EventContent.cff"
  replace patEventContent.outputCommands += patLayer1EventContent.outputCommands

  # only accept events passing the complete path
  block patEventSelection = {
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p" }
    }
  }

  # the actual output module
  module out = PoolOutputModule {
    untracked string fileName = "output/PATLayer1_Output.fromAOD_full.root"
    using patEventSelection
    using patEventContent
    untracked bool verbose = false
  }

  endpath outpath = { out }


}
