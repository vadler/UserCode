process PAT = {


  ### General ###

  # initialize MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.cerr.threshold = "INFO"
  replace MessageLogger.cerr.INFO = {
      untracked PSet default          = { untracked int32 limit =  0 }
      untracked PSet PATLayer0Summary = { untracked int32 limit = -1 }
  }
  replace MessageLogger.categories += "PATLayer0Summary"

  # return filter & timing reports
  untracked PSet options = { untracked bool wantSummary = true }


  ### Input ###

  untracked PSet maxEvents = { untracked int32 input = 100 }

//   source = PoolSource { untracked vstring fileNames = { "file:/afs/cern.ch/cms/PRS/top/cmssw-data/relval200-for-pat-testing/RelValTTbar-200p7-AODSIM.100.root" } }
  # dataset /RelValTTbar/CMSSW_2_0_6-RelVal-1209247429-IDEAL_V1-2nd-IDEAL_V1/GEN-SIM-DIGI-RAW-HLTDEBUG-RECO
  source = PoolSource {
    untracked vstring fileNames = {
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/044390E5-EF19-DD11-BD58-000423D98DC4.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/20E9690D-F019-DD11-9DF6-001617E30D38.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/3C694447-3F1A-DD11-9766-0016177CA7A0.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/3C7895E1-EF19-DD11-86D2-001D09F25456.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/489ED4ED-EF19-DD11-98A3-001D09F2AF96.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/540A93F3-EF19-DD11-A757-001D09F25442.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/5A3D4FFE-EF19-DD11-AEF5-001D09F282F5.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/5EBD9F1F-F019-DD11-878F-001D09F292D1.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/78A07D0D-F019-DD11-969C-000423D94990.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/80080A25-F019-DD11-ADDF-000423D98EA8.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/8CD22137-F019-DD11-A4C2-000E0C3F0987.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/98D3406A-4F1A-DD11-963D-000423D986A8.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/9CDCC8FD-EF19-DD11-9464-000423D98E54.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/A6CF9141-771A-DD11-A0B7-000423D9853C.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/A897520C-F019-DD11-BB30-000423D94C68.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/BE9642A1-4B1A-DD11-8D81-000423D6CA42.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/CA21A676-EF19-DD11-9CA8-000423D6006E.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/D6406A9C-611A-DD11-856A-000423D6BA18.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/E0C269FC-701A-DD11-83CE-000423D9939C.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/E254D665-341A-DD11-9FEC-0019B9F707D8.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/E8B140B0-621A-DD11-BE45-000423D985E4.root",
      "/store/relvall/2008/5/4/RelVal-RelValTTbar-1209247429-IDEAL_V1-2nd/0000/F2B25B1B-F019-DD11-8296-001D09F25442.root"
    }
  }
  # dataset /RelValTTbar/CMSSW_2_0_0-RelVal-1207860742-2nd-04/RECO
//   source = PoolSource {
//     untracked vstring fileNames = {
//       "/store/relval/2008/4/14/RelVal-RelValTTbar-1207860742-2nd-04/0000/3C3C651D-710A-DD11-9D8F-001617E30D12.root",
//       "/store/relval/2008/4/14/RelVal-RelValTTbar-1207860742-2nd-04/0000/440E76EC-700A-DD11-8E60-001617E30D52.root",
//       "/store/relval/2008/4/14/RelVal-RelValTTbar-1207860742-2nd-04/0000/6031F4B0-710A-DD11-BE4D-001617C3B654.root",
//       "/store/relval/2008/4/14/RelVal-RelValTTbar-1207860742-2nd-04/0000/7E33A4EB-700A-DD11-9009-001617DF785A.root",
//       "/store/relval/2008/4/14/RelVal-RelValTTbar-1207860742-2nd-04/0000/B4C70A7E-710A-DD11-9F6F-001617C3B64C.root",
//       "/store/relval/2008/4/14/RelVal-RelValTTbar-1207860742-2nd-04/0000/C87F611F-710A-DD11-A259-000423D98DB4.root",
//       "/store/relval/2008/4/14/RelVal-RelValTTbar-1207860742-2nd-04/0000/EA245DEE-700A-DD11-8A5B-001617E30CA4.root",
//       "/store/relval/2008/4/14/RelVal-RelValTTbar-1207860742-2nd-04/0000/F63C95EC-700A-DD11-84B2-000423D6C8E6.root",
//       "/store/relval/2008/4/14/RelVal-RelValTTbar-1207860742-2nd-04/0000/FA76E819-710A-DD11-A3F3-000423D992DC.root",
//       "/store/relval/2008/4/14/RelVal-RelValTTbar-1207860742-2nd-04/0000/FEFF2AEB-700A-DD11-AE16-001617C3B73A.root"
//     }
//   }

  
  ### PAT steering ###

  include "PhysicsTools/PatAlgos/data/patLayer0.cff"
//   include "PhysicsTools/PatAlgos/test/patLayer0_ReplaceDefaults_full.cff"
  include "PhysicsTools/PatAlgos/data/patLayer1.cff"
//   include "PhysicsTools/PatAlgos/test/patLayer1_ReplaceDefaults_full.cff"

  path p = {
    patLayer0,                            
    patLayer1
  }


  ### Output ###

  # define the event content
  block patEventContent = {
    untracked vstring outputCommands = {
      "drop *"
    }
  }
  include "PhysicsTools/PatAlgos/data/patLayer1_EventContent.cff"
  replace patEventContent.outputCommands += patLayer1EventContent.outputCommands

  # only accept events passing the complete path
  block patEventSelection = {
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "p" }
    }
  }

  # the actual output module
  module out = PoolOutputModule {
    untracked string fileName = "output/PATLayer1_Output.fromAOD_full.root"
    using patEventSelection
    using patEventContent
    untracked bool verbose = false
  }

  endpath outpath = { out }


}
