process TEST = {
    
    untracked PSet maxEvents =  {untracked int32 input = -1 }

    source = EmptySource { }
//     source = EventStreamHttpReader
//     {
//         untracked string sourceURL           = "http://cmstracker029.cern.ch:40870/urn:xdaq-application:lid=51"
//         int32 max_event_size = 7000000
//         int32 max_queue_depth = 5
// 
//         untracked string consumerName = "Test Consumer"
//         untracked string consumerPriority = "normal"
//         untracked int32 headerRetryInterval = 3  // seconds
//         untracked double maxEventRequestRate = 2.5  // hertz
//         untracked PSet SelectEvents = { vstring SelectEvents={"*"} }
//     }

    include "DQMServices/Core/data/DQM.cfg"
    replace DQMStore.verbose = 0 
    replace DQMStore.referenceFileName = ""
    replace DQM.collectorHost = localhost 
    replace DQM.collectorPort = 9090
    replace DQM.publishFrequency = 5
    replace DQM.debug = false

    module dqmSource = DQMSourceExample {
        untracked string monitorName = "YourSubsystemName"
        untracked int32 prescaleEvt = -1
    }

    module qTester = QualityTester {
        untracked int32 QualityTestPrescaler = 2
        untracked FileInPath qtList = "DQMServices/Examples/test/QualityTests.xml"
    }

    module dqmClient = DQMClientExample {
//         untracked string monitorName = "YourSubsystemName"
        untracked int32 prescaleLS  = -1
        untracked int32 prescaleEvt  = 1000
    }

    service = MessageLogger {
        untracked vstring destinations = { 
            "detailedInfo",
            "critical",
            "cout"
        }
        untracked vstring debugModules = { "*" }
        untracked PSet critical     = { untracked string threshold = "ERROR"   }
        untracked PSet detailedInfo = { untracked string threshold = "INFO"    } 
        untracked PSet cout = {
            untracked string threshold = "WARNING"
            untracked bool noLineBreaks = true
            untracked PSet WARNING = {untracked int32 limit = 0 }
        }
    }

    include "DQMServices/Components/data/DQMEnvironment.cfi"
    replace dqmSaver.convention    = "Online" // "Online", "Offline" or "RelVal"
//     replace dqmSaver.workflow      = ""
//     replace dqmSaver.dirName       = "."
    replace dqmSaver.producer        = "DQM" 
    replace dqmEnv.subSystemFolder   = "YourSubsystemName"
//     replace dqmSaver.forceRunNumber  = -1
//     replace dqmSaver.saveByLumiSection =   -1
//     replace dqmSaver.saveByMinute = -1 
//     replace dqmSaver.saveByEvent =  -1
//     replace dqmSaver.saveByRun =     1
//     replace dqmSaver.saveAtJobEnd = false

//     path p ={dqmSource & qTester & dqmClient & dqmEnv & dqmSaver }
    path p ={dqmSource & dqmClient & dqmEnv & dqmSaver }

} 
