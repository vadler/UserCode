process DQMOnlineSimData = {
    
    service = MessageLogger {
        untracked vstring destinations = { "cout" }
        untracked PSet cout = { untracked string threshold = "INFO" }
//         untracked vstring debugModules   = { "SiStripZeroSuppression",
//                                              "SiStripClusterizer",
//                                              "TrackInfoProducer",
//                                              "TrackRefitter"}
    }
    


    #-------------------------------------------------
    ## MAGNETIC FIELD
    #-------------------------------------------------
    ### Magnetic fiuld: force mag field to be 0.0 teslareplace ctfWithMaterialTracksP5.src = ckfTrackCandidatesP5
    include "Configuration/GlobalRuns/data/ForceZeroTeslaField.cff"

    #-------------------------------------------------
    ## GEOMETRY
    #-------------------------------------------------
    
    # tracker geometry
    include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
    
    # tracker numbering
    include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
    
    # cms geometry
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
    
    #-------------------------------------------------
    ## CALIBRATION
    #-------------------------------------------------
    
    include "Configuration/StandardSequences/data/FakeConditions.cff"
    
    #If Frontier is used in xdaq environment use the following service
    ##    service = SiteLocalConfigService {}
    
    #-----------------------
    ####  Reconstruction Modules
    #-----------------------
                                                                                      
    include "Configuration/GlobalRuns/data/ReconstructionGR.cff"
//     replace  cosmictrackfinderP5.TrajInEvents          = true // default: *true* from RecoTracker/SingleTrackPattern/data/CosmicTrackFinder.cfi
//     replace  ctfWithMaterialTracksP5.TrajectoryInEvent = true // default: *true* from RecoTracker/TrackProducer/data/CTFFinalFitWithMaterial.cfi
//     replace  rsWithMaterialTracksP5.TrajectoryInEvent  = true // default: *true* from RecoTracker/TrackProducer/data/RSFinalFitWithMaterial.cfi
    ## offline raw to digi for MC
    include "Configuration/StandardSequences/data/RawToDigi.cff"

    # Apply (mis)alignment
    replace TrackerDigiGeometryESModule.applyAlignment = true   
   
    
    #--------------------------
    #### DQMServices
    #--------------------------
    
    include "DQM/SiStripMonitorClient/data/SiStripDQMTier0.cff"


    #---------------------------
    #### Memory usage
    #---------------------------
    service = SimpleMemoryCheck {
         untracked int32 ignoreTotal = 0
    }
     
    #---------------------------
    #### Timing Check
    #---------------------------
       service = Timing {}
       untracked PSet options = { untracked bool wantSummary = true }

    #----------------------------
    #### Scheduling
    #-----------------------------
    


//     path p = { RawToDigi, reconstructionGR, SiStripDQMTest_cosmicTk }
//     path p = { RawToDigi, reconstructionGR, SiStripDQMTest_ckf }
//     path p = { RawToDigi, reconstructionGR, SiStripDQMTest_rs }
    path p = { RawToDigi, reconstructionGR, SiStripDQMTest }

  
    source = PoolSource { 
      untracked vstring fileNames = {
       "file:~/DQM/data/gen_sim_digi_raw_1k_Cosmics_200pre9.root" // as cmstacuser@cmstac05.cern.ch
      }
    }
    untracked PSet maxEvents = {untracked int32 input = -1}
}
